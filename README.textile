h1. MobDeals &mdash; Android App Installs Tracking

MobDeals (http://deals.crowdmob.com/) offers functionality to track the number
of unique installs of your Android app.  You can enable this functionality for
your own app by following these integration instructions.

h2. Integration Instructions

# Download the file @RegisterWithCrowdMob.java@.  (https://raw.github.com/crowdmob/installs-android/master/src/com/crowdmob/installs/RegisterWithCrowdMob.java)
# Copy the file @RegisterWithCrowdMob.java@ into the same directory containing your main Android app activity.  (Usually something like: @YourApp/src/com/yourcompany/yourapp@)
# Edit the file @RegisterWithCrowdMob.java@, and change the package from @com.crowdmob.installs@ to the package containing your main app activity.  (Usually something like: @com.yourcompany.yourapp@)
# Edit your main activity class.
## Add a class-level constant for your app's secret key.  (Like: @private static final String SECRET_KEY = "d2ef7da8a45891f2fee33747788903e7";@)
## Add a class-level constant for your app's permalink.  (Like: @private static final String PERMALINK = "your-app";@)
## At the very bottom of your @onCreate()@ method, call the code to register your app&rsquo;s install with CrowdMob: @RegisterWithCrowdMob.trackAppInstallation(this, SECRET_KEY, PERMALINK);@
## Confirm your work against this example main activity class: https://github.com/crowdmob/installs-android/blob/master/src/com/crowdmob/installs/InstallsAndroidActivity.java
# Edit your @AndroidManifest.xml@ file.
## At the very bottom, within the @<manifest>@ tag, add the following lines:
### @<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />@
### @<uses-permission android:name="android.permission.INTERNET" />@
### @<uses-permission android:name="android.permission.READ_PHONE_STATE" />@
@@ Confirm your work against this example @AndroidManifest.xml@ file: https://github.com/crowdmob/installs-android/blob/master/AndroidManifest.xml
# Congratulations!  You&rsquo;ve integrated your Android app with MobDeals to track installs.

h2. Testing Integration

# Launch your app in your Android emulator, and examine the logs using LogCat.
# Look for the following three log entries:
## @registered app installation with CrowdMob, HTTP status code 200@
## @HTTP status code: 200@
## @CrowdMob status code: 1004@
# In particular, the CrowdMob status code should be @1004@ or @1005@.  This is what the status codes mean:
## @1001@ - App (permalink) doesn't exist within Loot.
## @1002@ - Securty hash could not be verified.
## @1003@ - Device (UUID) has not been registered (so install can't be verified).
## @1004@ - Installation succeeded, verified, and recorded within Loot.
## @1005@ - Installation previously succeeded, verified, and recorded within Loot.
## @1006@ - Installation could not be confirmed.
